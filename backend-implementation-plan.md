# バックエンド実装計画

このリポジトリではフロントエンドを中心に開発してきましたが、ここから本格的にバックエンド機能を実装していきます。ディレクトリ構成は `README.md` の提案を採用し、`src/server` 以下に責務ごとのフォルダを作成しました。

## 目的
- Next.js アプリにおけるサーバーサイドロジックを整理し、将来的なマイクロサービス化に備える
- 認証、データ永続化、API ルーティング、ビジネスロジックを段階的に実装できるよう計画を明文化する

## 初期フェーズのタスク
1. **データベース層 (`db/`)**
   - Prisma 導入と基本スキーマ作成
   - マイグレーションとシードデータ整備
2. **API 層 (`api/`)**
   - tRPC セットアップ
   - REST/GraphQL エンドポイントの雛形作成
3. **サービス層 (`services/`)**
   - 製品・注文など主要ドメインロジックのサービスクラス設計
4. **認証 (`auth/`)**
   - Auth.js でのOAuth・パスワードレス対応検討
   - Middleware とServer Actionsの統合
5. **イベント/ジョブキュー (`events/`)**
   - Redis キュー基盤を調査
   - 重要イベントの発行・ハンドリング方針を決定

## その後の展開
- キャッシュ戦略 (`cache/`)、分析基盤 (`analytics/`)、コンプライアンス (`compliance/`) などを段階的に追加
- 外部サービス連携 (`integrations/`) はモジュール単位で追加予定

実装を進める際は各フォルダの `README.md` に詳細設計やメモを追記していきます。
